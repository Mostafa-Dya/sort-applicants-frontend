"use strict";(self.webpackChunksort_applicants=self.webpackChunksort_applicants||[]).push([[68],{4068:(y,D,d)=>{d.r(D),d.d(D,{default:()=>X});var A=d(5861),p=d(6814),a=d(5637),l=d(6223),v=d(4716),e=d(5879),h=d(4190),Z=d(7290),N=d(5457),b=d(4586),C=d(3034),S=d(9006),_=d(1896),q=d(21),u=d(220),f=d(3999);function g(i,s){1&i&&(e.TgZ(0,"div",67)(1,"div",0)(2,"div",57)(3,"label",68),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",69),e._UZ(7,"input",70),e.qZA()()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"Status")))}function U(i,s){if(1&i&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function O(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Governorate is required")," "))}function L(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Category is required")," "))}function I(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Full Name is required")," "))}function F(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Mother's Name is required")," "))}function M(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"National ID Number is required")," "))}function z(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Graduation Year is required")," "))}function J(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Graduation Rate is required")," "))}function j(i,s){if(1&i&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngValue",t),e.xp6(1),e.AsE(" ",t.general.name," -> ",t.precise.name," ")}}function w(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Number of Work Centers is required")," "))}function P(i,s){if(1&i&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function R(i,s){if(1&i&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function k(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",61)(2,"div",46)(3,"label",74),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"select",75)(7,"option",9),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,R,2,2,"option",10),e.qZA()(),e.TgZ(11,"div",46)(12,"label",74),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._UZ(15,"input",76),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",46)(18,"label",74),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",77),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",57)(24,"i",78),e.NdJ("click",function(){const n=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeSpecializationSet(n))}),e.qZA()(),e.TgZ(25,"div",57)(26,"i",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.addSpecializationSet())}),e.qZA()()()()}if(2&i){const t=s.index,o=e.oxw();e.Q6J("formGroupName",t),e.xp6(3),e.MGl("for","desire",t,""),e.xp6(1),e.AsE("",e.lcZ(5,17,"Desire")," ",t+1,""),e.xp6(2),e.MGl("id","desire",t,""),e.xp6(2),e.Oqu(e.lcZ(9,19,"Desire")),e.xp6(2),e.Q6J("ngForOf",o.publicEntityName),e.xp6(2),e.MGl("for","namedVal",t,""),e.xp6(1),e.AsE(" ",e.lcZ(14,21,"Designation")," ",t+1,""),e.xp6(2),e.MGl("id","namedVal",t,""),e.s9C("placeholder",e.lcZ(16,23,"Card Number")),e.xp6(3),e.MGl("for","cardNumberVal",t,""),e.xp6(1),e.AsE(" ",e.lcZ(20,25,"Card Number")," ",t+1,""),e.xp6(2),e.MGl("id","cardNumberVal",t,""),e.s9C("placeholder",e.lcZ(22,27,"Card Number"))}}function G(i,s){if(1&i&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Q(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Governorate is required")," "))}function Y(i,s){if(1&i&&(e.TgZ(0,"option",71),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function B(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Main Side is required")," "))}function K(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4,"->"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA(),e._UZ(7,"br"),e.BQk()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.specialization_needed),e.xp6(4),e.Oqu(t.specialization_needed_precise)}}function V(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.BQk()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.specialization_needed)}}function W(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"br"),e.BQk()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.specialization_needed_precise)}}function H(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",73)(1,"td")(2,"div",79)(3,"i",80),e.NdJ("click",function(){const n=e.CHM(t).index,c=e.oxw();return e.KtG(c.removeDesireSet(n))}),e.qZA()()(),e.TgZ(4,"td",81)(5,"div",82)(6,"select",83)(7,"option",9),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,G,2,2,"option",10),e.qZA(),e.YNc(11,Q,3,3,"span",11),e.qZA()(),e.TgZ(12,"td",84)(13,"div",82)(14,"select",85)(15,"option",9),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Y,2,2,"option",10),e.qZA(),e.YNc(19,B,3,3,"span",11),e.qZA()(),e.TgZ(20,"td",86)(21,"div",82),e._UZ(22,"input",87),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"td")(25,"div",82)(26,"span"),e._uU(27),e.qZA()()(),e.TgZ(28,"td")(29,"div",82)(30,"span"),e._uU(31),e.qZA()()(),e.TgZ(32,"td")(33,"div",82),e.YNc(34,K,8,2,"ng-container",88),e.qZA()(),e.TgZ(35,"td")(36,"div",82)(37,"span"),e._uU(38),e.qZA()()(),e.TgZ(39,"td")(40,"div",82),e.YNc(41,V,4,1,"ng-container",88),e.qZA()(),e.TgZ(42,"td")(43,"div",82),e.YNc(44,W,4,1,"ng-container",88),e.qZA()()()}if(2&i){const t=s.index,o=e.oxw();let r,n,c;e.Q6J("formGroupName",t),e.xp6(6),e.MGl("id","governorateDesire",t,""),e.xp6(2),e.Oqu(e.lcZ(9,17,"Governorate")),e.xp6(2),e.Q6J("ngForOf",o.governorateNames),e.xp6(1),e.Q6J("ngIf",o.mainForm.get("desireData."+t+".governorateDesire").invalid&&o.mainForm.get("desireData."+t+".governorateDesire").touched),e.xp6(3),e.MGl("id","publicEntitySide",t,""),e.xp6(2),e.Oqu(e.lcZ(17,19,"Select Main Entity")),e.xp6(2),e.Q6J("ngForOf",o.publicEntityName),e.xp6(1),e.Q6J("ngIf",o.mainForm.get("desireData."+t+".publicEntitySide").invalid&&o.mainForm.get("desireData."+t+".publicEntitySide").touched),e.xp6(3),e.MGl("id","cardNumberDesire",t,""),e.s9C("placeholder",e.lcZ(23,21,"Card Number")),e.xp6(5),e.Oqu(null==(r=o.mainForm.get("desireData."+t+".publicEntity"))?null:r.value),e.xp6(4),e.Oqu(null==(n=o.mainForm.get("desireData."+t+".numberOfCenters"))?null:n.value),e.xp6(3),e.Q6J("ngForOf",o.mainForm.get("desireData."+t+".specialization_needed").value),e.xp6(4),e.Oqu(null==(c=o.mainForm.get("desireData."+t+".jobTitle"))?null:c.value),e.xp6(3),e.Q6J("ngForOf",o.mainForm.get("desireData."+t+".specialization_needed").value),e.xp6(3),e.Q6J("ngForOf",o.mainForm.get("desireData."+t+".specialization_needed").value)}}function $(i,s){1&i&&(e.TgZ(0,"div",89)(1,"button",90),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"Submit")))}const X=(()=>{class i{constructor(t,o,r,n,c,T,m,x,E,ee){this.fb=t,this.datePipe=o,this.governorateService=r,this.publicEntitieService=n,this.translationService=c,this.jobDescriptionService=T,this.scientificCertificateService=m,this.applicantsService=x,this.route=E,this.authService=ee,this.governorateNames=[],this.originalPublicEntities=[],this.publicEntities=[],this.subEntities=[],this.publicEntityName=[],this.allJobDescriptionData=[],this.allCertificates=[]}ngOnInit(){this.governorateService.getGovernorateData().subscribe(t=>{this.governorateNames=t.data.map(o=>o.name)}),this.publicEntitieService.getPublicEntitieData().subscribe(t=>{this.originalPublicEntities=t.data,this.publicEntityName=t.data.map(o=>o.name)}),this.jobDescriptionService.jobDescriptionTableData().subscribe(t=>{this.allJobDescriptionData=t},t=>{console.error("Error fetching all job description data:",t)}),this.scientificCertificateService.getScientificCertificateData().subscribe(t=>{this.allCertificates=t.data.map(o=>o.scientific_cert.map(r=>({general:o,precise:r}))).flat()}),this.translationService.setLanguage(localStorage.getItem("i18nextLng")),this.route.params.subscribe(t=>{this.applicantID=t.id,this.applicantID&&(console.log(this.applicantID),this.applicantsService.getApplicantsByID(this.applicantID).subscribe(o=>{console.log(o),this.setFormData(o)}))}),this.role=localStorage.getItem("role"),this.permissions=this.authService.permissionsService(),this.initForm()}setFormData(t){var o=this;return(0,A.Z)(function*(){const r=JSON.parse(t.certificate);o.selectedCertificate=o.allCertificates.find(n=>n.general.name===r.general&&n.precise.name===r.precise),o.mainForm.patchValue({governorate:t.governorate,category:t.category,fullName:t.fullName,motherName:t.motherName,idNumber:t.idNumber,graduationDate:t.graduationDate,graduationRate:t.graduationRate,birthDate:t.birthDate,residence:t.residence,institute:t.institute,exactSpecialization:t.exactSpecialization,status:t.status,notes:t.notes,destination:t.destination,named:t.named,cardNumber:t.cardNumber,desireOrder:t.desireOrder,desiredGovernorate:t.desiredGovernorate}),r&&o.mainForm.patchValue({institute:r.general,exactSpecialization:r.precise}),t.specialization_data&&(o.specializationSets.clear(),t.specialization_data.forEach(n=>{console.log(n);const c=o.fb.group({desire:n.desire,namedVal:n.namedVal,cardNumberVal:n.cardNumberVal});o.specializationSets.push(c)})),t.desire_data&&(o.desireSets.clear(),t.desire_data.forEach(n=>{console.log(n);const c=o.fb.group({governorateDesire:[n.governorateDesire,l.kI.required],publicEntitySide:[n.publicEntitySide,l.kI.required],cardNumberDesire:[n.cardNumberDesire,l.kI.required],publicEntity:n.publicEntity,numberOfCenters:n.numberOfCenters,jobTitle:n.jobTitle,specialization_needed:o.fb.array([])});n.specialization_needed&&o.handleDesireGroupChanges(c),o.desireSets.push(c),o.handleDesireGroupChanges(c)}))})()}initForm(){this.mainForm=this.fb.group({governorate:["",l.kI.required],category:["",l.kI.required],fullName:["",l.kI.required],motherName:["",l.kI.required],idNumber:["",l.kI.required],graduationDate:["",l.kI.required],graduationRate:[0,l.kI.required],birthDate:[""],residence:[""],institute:[""],exactSpecialization:[""],certificate:["",l.kI.required],notes:[""],destination:[{value:"",disabled:!0}],named:[{value:"",disabled:!0}],cardNumber:[{value:"",disabled:!0}],desireOrder:[{value:"",disabled:!0}],desiredGovernorate:[""],desireData:this.fb.array([]),status:[!1],specializationData:this.fb.array([])}),this.desireSets=this.mainForm.get("desireData"),this.specializationSets=this.mainForm.get("specializationData"),this.addSpecializationSet(),this.addDesireSet()}addSpecializationSet(){const t=this.fb.group({desire:["",l.kI.required],namedVal:["",l.kI.required],cardNumberVal:["",l.kI.required]});this.specializationSets.length<3&&this.specializationSets.push(t)}addDesireSet(){const t=this.fb.group({governorateDesire:["",l.kI.required],publicEntitySide:["",l.kI.required],cardNumberDesire:["",l.kI.required],publicEntity:[""],numberOfCenters:[""],jobTitle:[""],specialization_needed:this.fb.array([]),primarySpecialization:[""],specifiedSpecialization:[""]});this.desireSets.length<3&&(this.desireSets.push(t),this.handleDesireGroupChanges(t),t.get("cardNumberDesire").valueChanges.subscribe(()=>{this.handleDesireGroupChanges(t)}),t.get("governorateDesire").valueChanges.subscribe(()=>{this.handleDesireGroupChanges(t)}),t.get("publicEntitySide").valueChanges.subscribe(()=>{this.handleDesireGroupChanges(t)}))}handleDesireGroupChanges(t){const o=t.get("cardNumberDesire").value,r=t.get("governorateDesire").value,n=t.get("publicEntitySide").value,c=this.allJobDescriptionData?.find(T=>{let m=parseInt(o);return T.card_number===m&&T.governorate===r&&T.public_entity===n});if(c){console.log(c.public_entity),t.patchValue({publicEntity:c.public_entity,numberOfCenters:c.vacancies-c.assignees,jobTitle:c.job_title,primarySpecialization:c.specialization_needed.map(x=>x.specialization_needed),specifiedSpecialization:c.specialization_needed.map(x=>x.specialization_needed_precise)});const m=t.get("specialization_needed");m.clear(),c.specialization_needed.forEach(x=>{const E=this.fb.group({specialization_needed:x.specialization_needed,specialization_needed_precise:x.specialization_needed_precise});m.push(E)})}else t.patchValue({publicEntity:"",numberOfCenters:"",specialization_needed:[],jobTitle:"",primarySpecialization:"",specifiedSpecialization:""})}removeDesireSet(t){this.desireSets.length>1&&this.desireSets.removeAt(t)}removeSpecializationSet(t){this.specializationSets.length>1&&this.specializationSets.removeAt(t)}changeLanguage(t){this.translationService.setLanguage(t)}submit(){const t=localStorage.getItem("username"),r=this.datePipe.transform(new Date,"yyyy/MM/dd");if(this.mainForm.valid){console.log(12);const n=this.mainForm.getRawValue();this.applicantID||(n.recordEntry=t,n.entryDate=r),n.lastModifier=t,n.modificationDate=r,n.certificate&&(n.certificate={general:n.certificate.general.name,precise:n.certificate.precise.name});const c=this.specializationSets.controls.map(m=>({desire:m.get("desire").value,namedVal:m.get("namedVal").value,cardNumberVal:m.get("cardNumberVal").value})),T=this.desireSets.controls.map(m=>(console.log(m),{governorateDesire:m.get("governorateDesire").value,publicEntitySide:m.get("publicEntitySide").value,cardNumberDesire:m.get("cardNumberDesire").value,publicEntity:m.get("publicEntity").value,numberOfCenters:m.get("numberOfCenters").value,jobTitle:m.get("jobTitle").value}));n.specializationData=c,n.desireData=T,this.applicantID?(n.status=this.mainForm.get("status").value,this.applicantsService.updateApplicants(this.applicantID,n).pipe((0,v.x)(()=>{})).subscribe(m=>{},m=>{})):this.applicantsService.createApplicants(n).pipe((0,v.x)(()=>{})).subscribe(m=>{},m=>{console.error("Error creating applicant:",m)})}else this.mainForm.markAllAsTouched()}findMatchingJobDescription(t){const{cardNumberDesire:o,publicEntitySide:r,governorateDesire:n}=t.desireData[0];return this.allJobDescriptionData.find(c=>c.card_number===o&&c.public_entity===r&&c.governorate===n)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(p.uU),e.Y36(h.y),e.Y36(Z.j),e.Y36(N.D),e.Y36(b.R),e.Y36(C.F),e.Y36(S.D),e.Y36(_.gz),e.Y36(q.e))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-show-applicants"]],standalone:!0,features:[e._Bn([p.uU]),e.jDz],decls:222,vars:192,consts:[[1,"row"],[1,"col-sm-12"],[3,"cardTitle","options"],[1,"col-md-12"],["action","javascript:",3,"formGroup","submit"],["class","form-group col-md-12 mb-2",4,"ngIf"],[1,"form-group","col-md-6"],["for","governorate",1,"form-label"],["id","governorate","aria-label","select example","required","","formControlName","governorate",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["for","category",1,"form-label"],["id","category","aria-label","select example","required","","formControlName","category",1,"form-select"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"form-group","col-md-4"],["for","fullName",1,"form-label"],["type","text","id","fullName","formControlName","fullName",1,"form-control",3,"placeholder"],["for","motherName",1,"form-label"],["type","text","id","motherName","formControlName","motherName",1,"form-control",3,"placeholder"],["for","idNumber",1,"form-label"],["type","string","id","idNumber","formControlName","idNumber",1,"form-control",3,"placeholder"],["for","graduationDate",1,"form-label"],["type","text","id","graduationDate","formControlName","graduationDate",1,"form-control",3,"placeholder"],["for","graduationRate",1,"form-label"],["type","number","id","graduationRate","formControlName","graduationRate",1,"form-control",3,"placeholder"],["for","birthDate",1,"form-label"],["type","date","id","birthDate","formControlName","birthDate",1,"form-control",3,"placeholder"],["for","residence",1,"form-label"],["id","residence","type","text","formControlName","residence",1,"form-control"],["for","institute",1,"form-label"],["type","text","id","institute","formControlName","institute",1,"form-control",3,"placeholder"],["for","exactSpecialization",1,"form-label"],["type","text","id","exactSpecialization","formControlName","exactSpecialization",1,"form-control",3,"placeholder"],["for","certificate",1,"form-label"],["id","certificate","formControlName","certificate",1,"form-select",3,"ngModel","ngModelChange"],["value","","selected",""],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-group","col-md-12"],["for","notes",1,"form-label"],["type","text","id","notes","formControlName","notes",1,"form-control",3,"placeholder"],[2,"margin-top","5%",3,"cardTitle","options"],[1,"form-group","col-md-3"],["for","destination",1,"form-label"],["type","text","id","destination","formControlName","destination",1,"form-control",3,"placeholder"],["for","named",1,"form-label"],["type","text","id","named","formControlName","named",1,"form-control",3,"placeholder"],["for","cardNumber",1,"form-label"],["type","text","id","cardNumber","formControlName","cardNumber",1,"form-control",3,"placeholder"],["for","desireOrder",1,"form-label"],["type","text","id","desireOrder","formControlName","desireOrder",1,"form-control",3,"placeholder"],["for","desiredGovernorate",1,"form-label"],["id","desiredGovernorate","aria-label","select example","formControlName","desiredGovernorate",1,"form-select"],[1,"col-md-1"],[1,"fa-solid","fa-plus","alignment",3,"click"],["formArrayName","specializationData"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"oneForm","row"],[1,"table"],[2,"text-align","center"],[1,"fa-solid","fa-plus",3,"click"],["formArrayName","desireData",2,"text-align","center"],["class","col-md-12 button-style",4,"ngIf"],[1,"form-group","col-md-12","mb-2"],["for","statusCheckbox",1,"form-label"],[1,"form-check","col-md-2"],["type","checkbox","id","statusCheckbox","formControlName","status",1,"form-check-input"],[3,"value"],[3,"ngValue"],[3,"formGroupName"],[1,"form-label",3,"for"],["aria-label","select example","required","","formControlName","desire",1,"form-select",3,"id"],["type","text","formControlName","namedVal",1,"form-control",3,"id","placeholder"],["type","text","formControlName","cardNumberVal",1,"form-control",3,"id","placeholder"],[1,"fa-solid","fa-minus","alignment",3,"click"],[1,""],[1,"fa-solid","fa-minus",3,"click"],[2,"width","10%!important"],[1,"form-group"],["aria-label","select example","required","","formControlName","governorateDesire",1,"form-select",3,"id"],[2,"width","15%!important"],["aria-label","select example","required","","formControlName","publicEntitySide",1,"form-select",3,"id"],[2,"width","8%!important"],["type","text","formControlName","cardNumberDesire",1,"form-control",3,"id","placeholder"],[4,"ngFor","ngForOf"],[1,"col-md-12","button-style"],["type","submit",1,"btn","btn-primary"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-card",2),e.ALo(3,"translate"),e.TgZ(4,"div",0)(5,"div",3)(6,"form",4),e.NdJ("submit",function(){return r.submit()}),e.TgZ(7,"div",0),e.YNc(8,g,8,3,"div",5),e.TgZ(9,"div",6)(10,"label",7),e._uU(11),e.ALo(12,"translate"),e.TgZ(13,"span"),e._uU(14," *"),e.qZA()(),e.TgZ(15,"select",8)(16,"option",9),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,U,2,2,"option",10),e.qZA(),e.YNc(20,O,3,3,"span",11),e.qZA(),e.TgZ(21,"div",6)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.TgZ(25,"span"),e._uU(26," *"),e.qZA()(),e.TgZ(27,"select",13)(28,"option",9),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"option",14),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"option",15),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"option",16),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"option",17),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"option",18),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,L,3,3,"span",11),e.qZA(),e.TgZ(47,"div",19)(48,"label",20),e._uU(49),e.ALo(50,"translate"),e.TgZ(51,"span"),e._uU(52," *"),e.qZA()(),e._UZ(53,"input",21),e.ALo(54,"translate"),e.YNc(55,I,3,3,"span",11),e.qZA(),e.TgZ(56,"div",19)(57,"label",22),e._uU(58),e.ALo(59,"translate"),e.TgZ(60,"span"),e._uU(61," *"),e.qZA()(),e._UZ(62,"input",23),e.ALo(63,"translate"),e.YNc(64,F,3,3,"span",11),e.qZA(),e.TgZ(65,"div",19)(66,"label",24),e._uU(67),e.ALo(68,"translate"),e.TgZ(69,"span"),e._uU(70," *"),e.qZA()(),e._UZ(71,"input",25),e.ALo(72,"translate"),e.YNc(73,M,3,3,"span",11),e.qZA(),e.TgZ(74,"div",6)(75,"label",26),e._uU(76),e.ALo(77,"translate"),e.TgZ(78,"span"),e._uU(79," *"),e.qZA()(),e._UZ(80,"input",27),e.ALo(81,"translate"),e.YNc(82,z,3,3,"span",11),e.qZA(),e.TgZ(83,"div",6)(84,"label",28),e._uU(85),e.ALo(86,"translate"),e.TgZ(87,"span"),e._uU(88," *"),e.qZA()(),e._UZ(89,"input",29),e.ALo(90,"translate"),e.YNc(91,J,3,3,"span",11),e.qZA(),e.TgZ(92,"div",6)(93,"label",30),e._uU(94),e.ALo(95,"translate"),e.qZA(),e._UZ(96,"input",31),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"div",6)(99,"label",32),e._uU(100),e.ALo(101,"translate"),e.TgZ(102,"span"),e._uU(103," *"),e.qZA()(),e._UZ(104,"input",33),e.qZA(),e.TgZ(105,"div",6)(106,"label",34),e._uU(107),e.ALo(108,"translate"),e.qZA(),e._UZ(109,"input",35),e.ALo(110,"translate"),e.qZA(),e.TgZ(111,"div",6)(112,"label",36),e._uU(113),e.ALo(114,"translate"),e.qZA(),e._UZ(115,"input",37),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"div",6)(118,"label",38),e._uU(119),e.ALo(120,"translate"),e.TgZ(121,"span"),e._uU(122," *"),e.qZA()(),e.TgZ(123,"select",39),e.NdJ("ngModelChange",function(c){return r.selectedCertificate=c}),e.TgZ(124,"option",40),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.YNc(127,j,2,3,"option",41),e.qZA(),e.YNc(128,w,3,3,"span",11),e.qZA(),e.TgZ(129,"div",42)(130,"label",43),e._uU(131),e.ALo(132,"translate"),e.qZA(),e._UZ(133,"input",44),e.ALo(134,"translate"),e.qZA(),e.TgZ(135,"app-card",45),e.ALo(136,"translate"),e.TgZ(137,"div",0)(138,"div",46)(139,"label",47),e._uU(140),e.ALo(141,"translate"),e.qZA(),e._UZ(142,"input",48),e.ALo(143,"translate"),e.qZA(),e.TgZ(144,"div",46)(145,"label",49),e._uU(146),e.ALo(147,"translate"),e.qZA(),e._UZ(148,"input",50),e.ALo(149,"translate"),e.qZA(),e.TgZ(150,"div",46)(151,"label",51),e._uU(152),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"input",52),e.ALo(155,"translate"),e.qZA(),e.TgZ(156,"div",46)(157,"label",53),e._uU(158),e.ALo(159,"translate"),e.qZA(),e._UZ(160,"input",54),e.ALo(161,"translate"),e.qZA()()(),e.TgZ(162,"app-card",2),e.ALo(163,"translate"),e.TgZ(164,"div",0)(165,"div",46)(166,"label",55),e._uU(167),e.ALo(168,"translate"),e.TgZ(169,"span"),e._uU(170," *"),e.qZA()(),e.TgZ(171,"select",56)(172,"option",9),e._uU(173),e.ALo(174,"translate"),e.qZA(),e.YNc(175,P,2,2,"option",10),e.qZA()(),e.TgZ(176,"div",57)(177,"i",58),e.NdJ("click",function(){return r.addSpecializationSet()}),e.qZA()()(),e.TgZ(178,"div",59),e.YNc(179,k,27,29,"div",60),e.qZA(),e._UZ(180,"br")(181,"br")(182,"br"),e.TgZ(183,"div",61)(184,"div",0)(185,"div",3)(186,"table",62)(187,"thead")(188,"tr",63)(189,"th")(190,"div")(191,"i",64),e.NdJ("click",function(){return r.addDesireSet()}),e.qZA()()(),e.TgZ(192,"th"),e._uU(193),e.ALo(194,"translate"),e.qZA(),e.TgZ(195,"th"),e._uU(196),e.ALo(197,"translate"),e.qZA(),e.TgZ(198,"th"),e._uU(199),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"th"),e._uU(202),e.ALo(203,"translate"),e.qZA(),e.TgZ(204,"th"),e._uU(205),e.ALo(206,"translate"),e.qZA(),e.TgZ(207,"th"),e._uU(208),e.ALo(209,"translate"),e.qZA(),e.TgZ(210,"th"),e._uU(211),e.ALo(212,"translate"),e.qZA(),e.TgZ(213,"th"),e._uU(214),e.ALo(215,"translate"),e.qZA(),e.TgZ(216,"th"),e._uU(217),e.ALo(218,"translate"),e.qZA()()(),e.TgZ(219,"tbody",65),e.YNc(220,H,45,23,"tr",60),e.qZA()()()()()()(),e.YNc(221,$,4,3,"div",66),e.qZA()()()()()()),2&o&&(e.xp6(2),e.s9C("cardTitle",e.lcZ(3,88,"Applicant Card")),e.Q6J("options",!1),e.xp6(4),e.Q6J("formGroup",r.mainForm),e.xp6(2),e.Q6J("ngIf",r.applicantID),e.xp6(2),e.ekj("error-label",r.mainForm.get("governorate").invalid&&r.mainForm.get("governorate").touched),e.xp6(1),e.hij(" ",e.lcZ(12,90,"governorate"),""),e.xp6(6),e.Oqu(e.lcZ(18,92,"Select Governorate")),e.xp6(2),e.Q6J("ngForOf",r.governorateNames),e.xp6(1),e.Q6J("ngIf",r.mainForm.get("governorate").invalid&&r.mainForm.get("governorate").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("category").invalid&&r.mainForm.get("category").touched),e.xp6(1),e.hij(" ",e.lcZ(24,94,"Category"),""),e.xp6(6),e.Oqu(e.lcZ(30,96,"Select Category")),e.xp6(3),e.Oqu(e.lcZ(33,98,"Category 1")),e.xp6(3),e.Oqu(e.lcZ(36,100,"Category 2")),e.xp6(3),e.Oqu(e.lcZ(39,102,"Category 3")),e.xp6(3),e.Oqu(e.lcZ(42,104,"Category 4")),e.xp6(3),e.Oqu(e.lcZ(45,106,"Category 5")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("category").invalid&&r.mainForm.get("category").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("fullName").invalid&&r.mainForm.get("fullName").touched),e.xp6(1),e.hij(" ",e.lcZ(50,108,"Full Name"),""),e.xp6(4),e.s9C("placeholder",e.lcZ(54,110,"Full Name")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("fullName").invalid&&r.mainForm.get("fullName").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("motherName").invalid&&r.mainForm.get("motherName").touched),e.xp6(1),e.hij(" ",e.lcZ(59,112,"Mother's Name"),""),e.xp6(4),e.s9C("placeholder",e.lcZ(63,114,"Mother's Name")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("motherName").invalid&&r.mainForm.get("motherName").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("idNumber").invalid&&r.mainForm.get("idNumber").touched),e.xp6(1),e.hij(" ",e.lcZ(68,116,"National ID Number"),""),e.xp6(4),e.s9C("placeholder",e.lcZ(72,118,"National ID Number")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("idNumber").invalid&&r.mainForm.get("idNumber").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("graduationDate").invalid&&r.mainForm.get("graduationDate").touched),e.xp6(1),e.hij(" ",e.lcZ(77,120,"Graduation Year"),""),e.xp6(4),e.s9C("placeholder",e.lcZ(81,122,"Graduation Year")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("graduationDate").invalid&&r.mainForm.get("graduationDate").touched),e.xp6(2),e.ekj("error-label",r.mainForm.get("graduationRate").invalid&&r.mainForm.get("graduationRate").touched),e.xp6(1),e.hij(" ",e.lcZ(86,124,"Graduation Rate"),""),e.xp6(4),e.s9C("placeholder",e.lcZ(90,126,"Graduation Rate")),e.xp6(2),e.Q6J("ngIf",r.mainForm.get("graduationRate").invalid&&r.mainForm.get("graduationRate").touched),e.xp6(3),e.hij(" ",e.lcZ(95,128,"Date of Birth")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(97,130,"Date of Birth")),e.xp6(4),e.Oqu(e.lcZ(101,132,"Residence")),e.xp6(7),e.hij(" ",e.lcZ(108,134,"Institute")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(110,136,"Institute")),e.xp6(4),e.hij(" ",e.lcZ(114,138,"Exact Specialization")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(116,140,"Exact Specialization")),e.xp6(3),e.ekj("error-label",r.mainForm.get("certificate").invalid&&r.mainForm.get("certificate").touched),e.xp6(1),e.hij(" ",e.lcZ(120,142,"Certificate"),""),e.xp6(4),e.Q6J("ngModel",r.selectedCertificate),e.xp6(2),e.Oqu(e.lcZ(126,144,"Select Certificate")),e.xp6(2),e.Q6J("ngForOf",r.allCertificates),e.xp6(1),e.Q6J("ngIf",r.mainForm.get("certificate").invalid&&r.mainForm.get("certificate").touched),e.xp6(3),e.hij(" ",e.lcZ(132,146,"Notes")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(134,148,"Notes")),e.xp6(2),e.s9C("cardTitle",e.lcZ(136,150,"Result")),e.Q6J("options",!1),e.xp6(5),e.Oqu(e.lcZ(141,152,"Destination")),e.xp6(2),e.s9C("placeholder",e.lcZ(143,154,"Destination")),e.xp6(4),e.Oqu(e.lcZ(147,156,"Designation")),e.xp6(2),e.s9C("placeholder",e.lcZ(149,158,"Designation")),e.xp6(4),e.Oqu(e.lcZ(153,160,"Card Number")),e.xp6(2),e.s9C("placeholder",e.lcZ(155,162,"Card Number")),e.xp6(4),e.Oqu(e.lcZ(159,164,"Desire Order")),e.xp6(2),e.s9C("placeholder",e.lcZ(161,166,"Desire Order")),e.xp6(2),e.s9C("cardTitle",e.lcZ(163,168,"Migration Information")),e.Q6J("options",!1),e.xp6(5),e.hij(" ",e.lcZ(168,170,"Desired Governorate"),""),e.xp6(6),e.Oqu(e.lcZ(174,172,"Desired Governorate")),e.xp6(2),e.Q6J("ngForOf",r.governorateNames),e.xp6(4),e.Q6J("ngForOf",r.specializationSets.controls),e.xp6(14),e.Oqu(e.lcZ(194,174,"Governorate")),e.xp6(3),e.Oqu(e.lcZ(197,176,"Main Side")),e.xp6(3),e.hij("",e.lcZ(200,178,"Card Number")," "),e.xp6(3),e.hij("",e.lcZ(203,180,"Public Entity")," "),e.xp6(3),e.hij("",e.lcZ(206,182,"Number of Centers")," "),e.xp6(3),e.hij("",e.lcZ(209,184,"Specialization")," "),e.xp6(3),e.hij("",e.lcZ(212,186,"Job Title")," "),e.xp6(3),e.hij("",e.lcZ(215,188,"Primary Specialization")," "),e.xp6(3),e.hij("",e.lcZ(218,190,"Specified Specialization")," "),e.xp6(3),e.Q6J("ngForOf",r.desireSets.controls),e.xp6(1),e.Q6J("ngIf","Admin"===r.role||"User"===r.role&&1===r.permissions.editApplicants&&r.applicantID))},dependencies:[a.m,p.sg,p.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.Wl,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u,l.x0,l.CE,u.A,f.X$],styles:[".error-label[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{color:red}"]})}return i})()},220:(y,D,d)=>{d.d(D,{A:()=>S});var A=d(5399),p=d(6825),a=d(5879),l=d(6814);function v(_,q){if(1&_&&(a.TgZ(0,"h5"),a._uU(1),a.qZA()),2&_){const u=a.oxw(2);a.xp6(1),a.Oqu(u.cardTitle)}}function e(_,q){if(1&_){const u=a.EpF();a.TgZ(0,"div",8)(1,"div",9)(2,"button",10),a._UZ(3,"i",11),a.qZA(),a.TgZ(4,"ul",12)(5,"li",13),a.NdJ("click",function(){a.CHM(u);const g=a.oxw(2),U=a.MAs(1);return a.KtG(g.fullCardToggle(U,"",!0))}),a.TgZ(6,"a",14)(7,"span"),a._UZ(8,"i",15),a._uU(9),a.qZA()()(),a.TgZ(10,"li",16),a.NdJ("click",function(g){a.CHM(u);const U=a.oxw(2);return a.KtG(U.collapsedCardToggle(g))}),a.TgZ(11,"a",14)(12,"span"),a._UZ(13,"i",15),a._uU(14),a.qZA(),a.TgZ(15,"span",17),a._UZ(16,"i",18),a.qZA()()(),a.TgZ(17,"li",19),a.NdJ("click",function(){a.CHM(u);const g=a.oxw(2);return a.KtG(g.cardRefresh())}),a.TgZ(18,"a",14),a._UZ(19,"i",20),a._uU(20," Reload"),a.qZA()(),a.TgZ(21,"li",21),a.NdJ("click",function(){a.CHM(u);const g=a.oxw(2);return a.KtG(g.cardRemoveAction())}),a.TgZ(22,"a",14),a._UZ(23,"i",22),a._uU(24," Remove"),a.qZA()()()()()}if(2&_){const u=a.oxw(2);a.xp6(8),a.Q6J("ngClass",u.fullIcon),a.xp6(1),a.hij(" ","full-card"===u.cardClass?"Restore":"Maximize",""),a.xp6(4),a.Q6J("ngClass",u.collapsedIcon),a.xp6(1),a.hij(" ","collapsed"===u.collapsedCard?"Expand":"Collapse"," ")}}function h(_,q){1&_&&a.Hsn(0,1,["*ngIf","customHeader"])}function Z(_,q){if(1&_&&(a.TgZ(0,"div",5),a.YNc(1,v,2,1,"h5",6),a.YNc(2,e,25,4,"div",7),a.YNc(3,h,1,0,"ng-content",6),a.qZA()),2&_){const u=a.oxw();a.Q6J("ngClass",u.headerClass),a.xp6(1),a.Q6J("ngIf",!u.customHeader),a.xp6(1),a.Q6J("ngIf",u.options&&!u.customHeader),a.xp6(1),a.Q6J("ngIf",u.customHeader)}}function N(_,q){1&_&&(a.TgZ(0,"div",23),a._UZ(1,"i",24),a.qZA())}const b=["*",[["",8,"app-card-header"]]],C=["*",".app-card-header"];let S=(()=>{class _{constructor(u){u.placement="bottom-right",this.customHeader=!1,this.options=!0,this.hidHeader=!1,this.cardTitle="Card Title",this.fullIcon="icon-maximize",this.isAnimating=!1,this.collapsedCard="expanded",this.collapsedIcon="icon-minus",this.loadCard=!1,this.cardRemove="open"}ngOnInit(){(!this.options||this.hidHeader||this.customHeader)&&(this.collapsedCard="false")}fullCardToggle(u,f,g){f="full-card"===this.cardClass?"zoomOut":"zoomIn",this.fullIcon="full-card"===this.cardClass?"icon-maximize":"icon-minimize",this.cardClass="full-card"===this.cardClass?this.cardClass:"full-card",g&&(this.animation=f),this.isAnimating=!0,setTimeout(()=>{this.cardClass="zoomOut"===f?"":this.cardClass,"full-card"===this.cardClass?document.querySelector("body").style.overflow="hidden":document.querySelector("body").removeAttribute("style")},500)}collapsedCardToggle(u){this.collapsedCard="collapsed"===this.collapsedCard?"expanded":"collapsed",this.collapsedIcon="collapsed"===this.collapsedCard?"icon-plus":"icon-minus"}cardRefresh(){this.loadCard=!0,this.cardClass="card-load",setTimeout(()=>{this.loadCard=!1,this.cardClass="expanded"},3e3)}cardRemoveAction(){this.cardRemove="closed"===this.cardRemove?"open":"closed"}static#e=this.\u0275fac=function(f){return new(f||_)(a.Y36(A.jL))};static#t=this.\u0275cmp=a.Xpm({type:_,selectors:[["app-card"]],inputs:{cardTitle:"cardTitle",cardClass:"cardClass",blockClass:"blockClass",headerClass:"headerClass",options:"options",hidHeader:"hidHeader",customHeader:"customHeader"},features:[a._Bn([A.jL])],ngContentSelectors:C,decls:7,vars:6,consts:[[1,"card",3,"ngClass"],["toAnimate",""],["class","card-header",3,"ngClass",4,"ngIf"],[1,"card-block",3,"ngClass"],["class","card-loader",4,"ngIf"],[1,"card-header",3,"ngClass"],[4,"ngIf"],["class","card-header-right",4,"ngIf"],[1,"card-header-right"],["ngbDropdown","",1,"btn-group","card-option","dropdown"],["type","button","ngbDropdownToggle","",1,"btn","dropdown-toggle","btn-icon"],[1,"feather","icon-more-horizontal"],["ngbDropdownMenu","",1,"list-unstyled","card-option","dropdown-menu","dropdown-menu-right"],[1,"dropdown-item","full-card",3,"click"],["href","javascript:"],[1,"feather",3,"ngClass"],[1,"dropdown-item","minimize-card",3,"click"],[2,"display","none"],[1,"feather","icon-plus"],[1,"dropdown-item","reload-card",3,"click"],[1,"feather","icon-refresh-cw"],[1,"dropdown-item","close-card",3,"click"],[1,"feather","icon-trash"],[1,"card-loader"],[1,"pct-loader1","anim-rotate"]],template:function(f,g){1&f&&(a.F$t(b),a.TgZ(0,"div",0,1),a.YNc(2,Z,4,4,"div",2),a.TgZ(3,"div")(4,"div",3),a.Hsn(5),a.qZA()(),a.YNc(6,N,2,0,"div",4),a.qZA()),2&f&&(a.Q6J("ngClass",g.cardClass)("@cardRemove",g.cardRemove),a.xp6(2),a.Q6J("ngIf",!g.hidHeader),a.xp6(1),a.Q6J("@collapsedCard",g.collapsedCard),a.xp6(1),a.Q6J("ngClass",g.blockClass),a.xp6(2),a.Q6J("ngIf",g.loadCard))},dependencies:[l.mk,l.O5,A.jt,A.iD,A.Vi],styles:[".card.full-card[_ngcontent-%COMP%]{position:fixed!important;top:0!important;left:0!important;z-index:99999;border-radius:0;width:100vw!important;height:100vh!important}"],data:{animation:[(0,p.X$)("collapsedCard",[(0,p.SB)("collapsed, void",(0,p.oB)({overflow:"hidden",height:"0px"})),(0,p.SB)("expanded",(0,p.oB)({overflow:"hidden",height:p.l3})),(0,p.eR)("collapsed <=> expanded",[(0,p.jt)("400ms ease-in-out")])]),(0,p.X$)("cardRemove",[(0,p.SB)("open",(0,p.oB)({opacity:1})),(0,p.SB)("closed",(0,p.oB)({opacity:0,display:"none"})),(0,p.eR)("open <=> closed",(0,p.jt)("400ms"))])]}})}return _})()},4190:(y,D,d)=>{d.d(D,{y:()=>l});var A=d(9862),p=d(7337),a=d(5879);let l=(()=>{class v{constructor(h){this.http=h}getGovernorateData(){return this.http.get(p.N.api+"get-governorates")}getGovernorateDataId(h){return this.http.get(`${p.N.api}governorates-get/${h}`)}createGovernorateData(h){return this.http.post(p.N.api+"create-governorates",h)}updateGovernorateData(h,Z){return this.http.put(`${p.N.api}update-governorates/${h}`,Z)}deleteGovernorateData(h,Z,N){let b;if(N)switch(N){case"Regions":b="region_ids[]";break;case"Townships":b="township_ids[]";break;case"Villages":b="village_ids[]";break;default:b=""}let C=new A.LE;return Z&&Array.isArray(Z)?Z.forEach(S=>{C=C.append(b,S.toString())}):C=C.set(b,Z?.toString()||""),this.http.delete(`${p.N.api}delete-governorates/${h}`,{params:C})}static#e=this.\u0275fac=function(Z){return new(Z||v)(a.LFG(A.eN))};static#t=this.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()}}]);