"use strict";(self.webpackChunksort_applicants=self.webpackChunksort_applicants||[]).push([[863],{863:(Z,h,a)=>{a.r(h),a.d(h,{AuthenticationModule:()=>E});var c=a(6814),m=a(1896),o=a(6223),t=a(5879),f=a(21),v=a(1681),r=a(5619);let S=(()=>{class e{constructor(i){this.tokenAuthService=i,this.userCurrentState=new r.X(this.tokenAuthService.isSignedin()),this.userAuthState=this.userCurrentState.asObservable()}setAuthState(i){this.userCurrentState.next(i)}static#t=this.\u0275fac=function(s){return new(s||e)(t.LFG(v.Y))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var u=a(5457),d=a(3831),A=a(3999);function C(e,l){1&e&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Email is required")," "))}function T(e,l){1&e&&(t.TgZ(0,"div",16),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Password is required")," "))}let _=(()=>{class e{constructor(i,s,n,p,g,j,Q){this.router=i,this.fb=s,this.AuthService=n,this.tokenAuthService=p,this.authenticationStateService=g,this.translate=j,this.rolesService=Q,this.err=null,this.login=this.fb.group({email:new o.NI(null,[o.kI.required]),password:new o.NI(null,o.kI.required)})}ngOnInit(){localStorage.getItem("i18nextLng")&&this.translate.setLanguage(localStorage.getItem("i18nextLng"))}onSubmit(){null===localStorage.getItem("i18nextLng")&&localStorage.setItem("i18nextLng","en"),this.login.invalid?Object.keys(this.login.controls).forEach(i=>this.login.controls[i].markAsTouched()):this.AuthService.login(this.login.value).subscribe(i=>{localStorage.setItem("role",i.role),localStorage.setItem("username",i.name),i.permissions&&this.rolesService.setRole(JSON.stringify(i.permissions)),this.tokenStorage(i.token)},i=>{this.err=i.error.error.message,this.login.reset()},()=>{this.authenticationStateService.setAuthState(!0),this.login.reset();const i=localStorage.getItem("role").toString();("Admin"==i||"User"==i)&&this.router.navigate(["/basic/job-description-card"])})}tokenStorage(i){this.tokenAuthService.setTokenStorage(i)}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(m.F0),t.Y36(o.qu),t.Y36(f.e),t.Y36(v.Y),t.Y36(S),t.Y36(u.D),t.Y36(d.f))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth-signin"]],decls:26,vars:16,consts:[[1,"auth-wrapper"],[1,"auth-content"],[1,"auth-bg"],[1,"r"],[1,"r","s"],[1,"card"],[1,"card-body","text-center"],[1,"mb-4"],[1,"feather","icon-unlock","auth-icon"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","email","formControlName","email",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],[1,"input-group","mb-4"],["type","password","formControlName","password",1,"form-control",3,"placeholder"],[1,"btn","btn-primary","mb-4",3,"disabled"],[1,"text-danger"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"span",3)(4,"span",4)(5,"span",4)(6,"span",3),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7),t._UZ(10,"i",8),t.qZA(),t.TgZ(11,"h3",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"form",9),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(15,"div",10),t._UZ(16,"input",11),t.ALo(17,"translate"),t.qZA(),t.YNc(18,C,3,3,"div",12),t.TgZ(19,"div",13),t._UZ(20,"input",14),t.ALo(21,"translate"),t.qZA(),t.YNc(22,T,3,3,"div",12),t.TgZ(23,"button",15),t._uU(24),t.ALo(25,"translate"),t.qZA()()()()()()),2&s&&(t.xp6(12),t.Oqu(t.lcZ(13,8,"Login")),t.xp6(2),t.Q6J("formGroup",n.login),t.xp6(2),t.s9C("placeholder",t.lcZ(17,10,"Email")),t.xp6(2),t.Q6J("ngIf",n.login.get("email").hasError("required")&&n.login.get("email").touched),t.xp6(2),t.s9C("placeholder",t.lcZ(21,12,"Password")),t.xp6(2),t.Q6J("ngIf",n.login.get("password").hasError("required")&&n.login.get("password").touched),t.xp6(1),t.Q6J("disabled",n.login.invalid),t.xp6(1),t.Oqu(t.lcZ(25,14,"Login")))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,A.X$]})}return e})();var x=a(7847);function b(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Username is required"),"."))}function w(e,l){if(1&e&&(t.TgZ(0,"div",19),t.YNc(1,b,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.name.errors.required)}}function y(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Email is required"),"."))}function q(e,l){if(1&e&&(t.TgZ(0,"div",19),t.YNc(1,y,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.email.errors.required)}}function I(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Password is required"),"."))}function L(e,l){if(1&e&&(t.TgZ(0,"div",19),t.YNc(1,I,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.password.errors.required)}}function U(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Confirmation password is required"),"."))}function Y(e,l){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij("",t.lcZ(2,1,"Passwords must match"),"."))}function F(e,l){if(1&e&&(t.TgZ(0,"div",19),t.YNc(1,U,3,3,"div",20),t.YNc(2,Y,3,3,"div",20),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.passwordConfirmation.errors.required),t.xp6(1),t.Q6J("ngIf",i.passwordConfirmation.errors.mustMatch)}}const J=[{path:"login",component:_},{path:"signup",component:(()=>{class e{constructor(i,s,n,p){this.fb=i,this.authService=s,this.sharedService=n,this.translate=p}ngOnInit(){this.translate.setLanguage(localStorage.getItem("i18nextLng")),this.signupForm=this.fb.group({name:["",o.kI.required],email:["",[o.kI.required]],password:["",o.kI.required],passwordConfirmation:["",o.kI.required]},{validators:this.mustMatch("password","passwordConfirmation")})}mustMatch(i,s){return n=>{const g=n.controls[s];g.errors&&!g.errors.mustMatch||g.setErrors(n.controls[i].value!==g.value?{mustMatch:!0}:null)}}get name(){return this.signupForm.get("name")}get email(){return this.signupForm.get("email")}get password(){return this.signupForm.get("password")}get passwordConfirmation(){return this.signupForm.get("passwordConfirmation")}signup(){this.signupForm.valid?this.authService.register(this.signupForm.value).subscribe(()=>{this.sharedService.openSnackBar("User registered successfully","close"),this.signupForm.reset()},s=>{console.error("Error registering user:",s)}):this.signupForm.markAllAsTouched()}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(o.qu),t.Y36(f.e),t.Y36(x.F1),t.Y36(u.D))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth-signup"]],decls:37,vars:26,consts:[[1,"auth-wrapper"],[1,"auth-content"],[1,"auth-bg"],[1,"r"],[1,"r","s"],[1,"card"],[1,"card-body","text-center"],["routerLink","/",1,"btn","btn-primary","shadow-2","mb-4",2,"margin","auto"],[1,"mb-4"],[1,"feather","icon-user-plus","auth-icon"],[3,"formGroup","ngSubmit"],[1,"input-group","mb-3"],["type","text","formControlName","name",1,"form-control",3,"placeholder"],["class","text-danger alignment-sign",4,"ngIf"],["type","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"input-group","mb-4"],["type","password","formControlName","password",1,"form-control",3,"placeholder"],["type","password","formControlName","passwordConfirmation",1,"form-control",3,"placeholder"],["type","submit",1,"btn","btn-primary","shadow-2","mb-4"],[1,"text-danger","alignment-sign"],[4,"ngIf"]],template:function(s,n){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"span",3)(4,"span",4)(5,"span",4)(6,"span",3),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"button",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8),t._UZ(13,"i",9),t.qZA(),t.TgZ(14,"h3",8),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"form",10),t.NdJ("ngSubmit",function(){return n.signup()}),t.TgZ(18,"div",11),t._UZ(19,"input",12),t.ALo(20,"translate"),t.qZA(),t.YNc(21,w,2,1,"div",13),t.TgZ(22,"div",11),t._UZ(23,"input",14),t.ALo(24,"translate"),t.qZA(),t.YNc(25,q,2,1,"div",13),t.TgZ(26,"div",15),t._UZ(27,"input",16),t.ALo(28,"translate"),t.qZA(),t.YNc(29,L,2,1,"div",13),t.TgZ(30,"div",15),t._UZ(31,"input",17),t.ALo(32,"translate"),t.qZA(),t.YNc(33,F,3,2,"div",13),t.TgZ(34,"button",18),t._uU(35),t.ALo(36,"translate"),t.qZA()()()()()()),2&s&&(t.xp6(10),t.Oqu(t.lcZ(11,12,"Go to Home")),t.xp6(5),t.Oqu(t.lcZ(16,14,"Sign up")),t.xp6(2),t.Q6J("formGroup",n.signupForm),t.xp6(2),t.s9C("placeholder",t.lcZ(20,16,"Username")),t.xp6(2),t.Q6J("ngIf",n.name.invalid&&(n.name.dirty||n.name.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(24,18,"Email")),t.xp6(2),t.Q6J("ngIf",n.email.invalid&&(n.email.dirty||n.email.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(28,20,"Password")),t.xp6(2),t.Q6J("ngIf",n.password.invalid&&(n.password.dirty||n.password.touched)),t.xp6(2),t.s9C("placeholder",t.lcZ(32,22,"Confirm Password")),t.xp6(2),t.Q6J("ngIf",n.passwordConfirmation.invalid&&(n.passwordConfirmation.dirty||n.passwordConfirmation.touched)),t.xp6(2),t.Oqu(t.lcZ(36,24,"Sign up")))},dependencies:[c.O5,m.rH,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,A.X$],styles:[".alignment-sign[_ngcontent-%COMP%]{text-align:left;position:relative;bottom:1em}"]})}return e})()}];let N=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(J),m.Bz]})}return e})();var k=a(5637);let E=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[c.ez,N,k.m]})}return e})()},7847:(Z,h,a)=>{a.d(h,{F1:()=>v,WD:()=>o});var c=a(5879),m=a(2939),o=function(r){return r.Category1="1",r.Category2="2",r.Category3="3",r.Category4="4",r.Category5="5",r}(o||{});let v=(()=>{class r{constructor(u,d){this.snakBar=u,this.zon=d}getCategoryString(u){switch(u){case"1":return"Category 1";case"2":return"Category 2";case"3":return"Category 3";case"4":return"Category 4";case"5":return"Category 5";default:return""}}getStatusString(u){switch(u){case 1:return"Audited";case 0:return"Not Audited";default:return""}}getDesireOrderString(u){switch(u){case 1:return"First Desire";case 2:return"Second Desire";case 3:return"Third Desire";default:return""}}openSnackBar(u,d){this.zon.run(()=>{this.snakBar.open(u,d,{duration:4e3,horizontalPosition:"center",panelClass:["blue-snackbar"]})})}static#t=this.\u0275fac=function(d){return new(d||r)(c.LFG(m.ux),c.LFG(c.R0b))};static#e=this.\u0275prov=c.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);